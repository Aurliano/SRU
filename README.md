# English Learning Telegram Bot

A Telegram bot created with Python to help Iranian users learn English using OpenAI API.

## ویژگی‌های کلیدی

- **تمرین واژگان سطح‌بندی‌شده**: واژگان بر اساس سطح کاربر (مبتدی، آماتور، متوسط، پیشرفته) ارائه می‌شوند. هر سطح حداقل ۱۰۰ لغت دارد و لغات تکراری به کاربر نمایش داده نمی‌شود.
- **آزمون واژگان**: پس از هر ۲۰ لغت تمرین‌شده، یک آزمون چندگزینه‌ای فعال می‌شود. پیشرفت کاربر فقط پس از قبولی در آزمون به‌روزرسانی می‌شود.
- **سیستم امتیازدهی منعطف**: جملات کاربران با هوش مصنوعی (OpenAI) بررسی و به صورت سخاوتمندانه امتیازدهی می‌شود. بازخورد به زبان فارسی و به صورت تشویقی ارائه می‌گردد.
- **جلوگیری از تقلب**: اگر جمله کاربر بیش از ۷۰٪ با مثال داده‌شده شباهت داشته باشد، از او خواسته می‌شود جمله متفاوتی بنویسد.
- **ناوبری آسان**: کاربر می‌تواند لغت فعلی را رد کند، به لغت بعدی برود یا تمرین را ادامه دهد. پس از اتمام مجموعه لغات، لغات جدید نمایش داده می‌شود.
- **پیشرفت و سطح‌بندی خودکار**: پیشرفت هر کاربر در بخش‌های لغت، گرامر، مکالمه و ارزیابی ذخیره می‌شود. با رسیدن به امتیاز کافی، سطح کاربر به صورت خودکار ارتقاء می‌یابد.
- **دستورات مدیریتی و دیباگ**: دستورات ویژه برای بررسی و اصلاح سطح، تست پایگاه داده و ایجاد آزمون آزمایشی.

## راه‌اندازی

1. نصب وابستگی‌ها:
```bash
pip install -r requirements.txt
```

2. ساخت ربات در تلگرام و دریافت توکن
3. دریافت کلید OpenAI API از [OpenAI Platform](https://platform.openai.com/api-keys)
4. تنظیم متغیرهای محیطی در فایل `.env`:
   - `TELEGRAM_BOT_TOKEN`: توکن ربات تلگرام شما
   - `OPENAI_API_KEY`: کلید API OpenAI شما
   
   برای نمونه، فایل `env_example.txt` را ببینید.

## اجرای ربات

```bash
python bot.py
```

## دستورات و امکانات

- `/start` - شروع ربات و نمایش پیام خوش‌آمدگویی
- `/help` - نمایش راهنمای دستورات
- `/level` - نمایش یا تغییر سطح فعلی کاربر (مثال: `/level intermediate`)
- `/fix_level` - به‌روزرسانی خودکار سطح بر اساس آخرین نتیجه آزمون
- `/debug_db` - بررسی و تست پایگاه داده
- `/create_test [امتیاز]` - ایجاد یک رکورد آزمون آزمایشی برای تست سطح‌بندی

### امکانات آموزشی

- **تمرین لغت**: با انتخاب "📚 تمرین لغات"، لغات متناسب با سطح شما نمایش داده می‌شود. برای هر لغت، باید یک جمله جدید و متفاوت بنویسید.
- **آزمون لغت**: پس از هر ۲۰ لغت، آزمون چندگزینه‌ای فعال می‌شود و نتیجه در پیشرفت شما لحاظ می‌گردد.
- **درس گرامر**: با انتخاب "📝 درس گرامر"، درس‌های گرامری متناسب با سطح شما ارائه می‌شود.
- **تمرین مکالمه**: با انتخاب "🗣️ تمرین مکالمه"، می‌توانید با ربات مکالمه کنید.
- **گزارش پیشرفت**: با انتخاب "📊 پیشرفت من"، میزان پیشرفت خود را در هر بخش مشاهده می‌کنید.

## نکات مهم

- اگر جمله شما بیش از حد شبیه مثال باشد، باید جمله جدیدی بنویسید.
- لغات هر سطح به‌تدریج و بدون تکرار نمایش داده می‌شوند.
- پس از هر آزمون لغت، پیشرفت شما به‌روزرسانی می‌شود و امکان ارتقاء سطح وجود دارد.

## سفارشی‌سازی

برای افزودن لغات یا درس‌های جدید، فایل `content_manager.py` را ویرایش کنید. برای افزودن ویژگی‌های جدید، می‌توانید کدهای `bot.py` را توسعه دهید. 